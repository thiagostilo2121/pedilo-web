{"openapi":"3.1.0","info":{"title":"Pedilo API","description":"Backend del sistema Pedilo - pedidos online sin comisiones","version":"0.5.0"},"paths":{"/api/negocios/me":{"get":{"tags":["Negocios"],"summary":"Get Negocio","operationId":"get_negocio_api_negocios_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegocioRead"}}}}},"security":[{"HTTPBearer":[]}]},"put":{"tags":["Negocios"],"summary":"Actualizar Negocio","operationId":"actualizar_negocio_api_negocios_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegocioUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegocioRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/negocios/":{"get":{"tags":["Negocios"],"summary":"Listar Negocios","operationId":"listar_negocios_api_negocios__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/NegocioRead"},"type":"array","title":"Response Listar Negocios Api Negocios  Get"}}}}}},"post":{"tags":["Negocios"],"summary":"Crear Negocio","operationId":"crear_negocio_api_negocios__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegocioCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegocioRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/auth/register":{"post":{"tags":["Auth"],"summary":"Registrar Usuario","operationId":"registrar_usuario_api_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/login":{"post":{"tags":["Auth"],"summary":"Login","operationId":"login_api_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/usuario":{"get":{"tags":["Auth"],"summary":"Get Usuario","operationId":"get_usuario_api_auth_usuario_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioRead"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/productos/":{"post":{"tags":["Productos"],"summary":"Crear Producto","operationId":"crear_producto_api_productos__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductoCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductoRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Productos"],"summary":"Listar Productos","operationId":"listar_productos_api_productos__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Número de registros a saltar","default":0,"title":"Skip"},"description":"Número de registros a saltar"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Cantidad máxima de registros a retornar","default":100,"title":"Limit"},"description":"Cantidad máxima de registros a retornar"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductoRead"},"title":"Response Listar Productos Api Productos  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/productos/{producto_id}":{"put":{"tags":["Productos"],"summary":"Actualizar Producto","operationId":"actualizar_producto_api_productos__producto_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"producto_id","in":"path","required":true,"schema":{"type":"integer","title":"Producto Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductoUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductoRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Productos"],"summary":"Eliminar Producto","operationId":"eliminar_producto_api_productos__producto_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"producto_id","in":"path","required":true,"schema":{"type":"integer","title":"Producto Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/productos/{producto_id}/toppings/":{"put":{"tags":["Productos"],"summary":"Configurar Toppings Producto","description":"Configura qué grupos de toppings aplican a este producto","operationId":"configurar_toppings_producto_api_productos__producto_id__toppings__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"producto_id","in":"path","required":true,"schema":{"type":"integer","title":"Producto Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductoGrupoToppingConfig"},"title":"Configs"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Productos"],"summary":"Obtener Toppings Producto","description":"Obtiene los grupos de toppings configurados para este producto","operationId":"obtener_toppings_producto_api_productos__producto_id__toppings__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"producto_id","in":"path","required":true,"schema":{"type":"integer","title":"Producto Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pedidos/":{"get":{"tags":["Pedidos"],"summary":"Listar Pedidos","operationId":"listar_pedidos_api_pedidos__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"estado","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/PedidoEstado"},{"type":"null"}],"title":"Estado"}},{"name":"buscar","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Buscar por código o nombre de cliente","title":"Buscar"},"description":"Buscar por código o nombre de cliente"},{"name":"fecha_desde","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filtrar desde fecha (ISO 8601)","title":"Fecha Desde"},"description":"Filtrar desde fecha (ISO 8601)"},{"name":"fecha_hasta","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filtrar hasta fecha (ISO 8601)","title":"Fecha Hasta"},"description":"Filtrar hasta fecha (ISO 8601)"},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Número de registros a saltar","default":0,"title":"Skip"},"description":"Número de registros a saltar"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Cantidad máxima de registros a retornar","default":100,"title":"Limit"},"description":"Cantidad máxima de registros a retornar"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PedidoRead"},"title":"Response Listar Pedidos Api Pedidos  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pedidos/{pedido_id}/aceptar":{"patch":{"tags":["Pedidos"],"summary":"Aceptar Pedido","operationId":"aceptar_pedido_api_pedidos__pedido_id__aceptar_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"pedido_id","in":"path","required":true,"schema":{"type":"integer","title":"Pedido Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pedidos/{pedido_id}/rechazar":{"patch":{"tags":["Pedidos"],"summary":"Rechazar Pedido","operationId":"rechazar_pedido_api_pedidos__pedido_id__rechazar_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"pedido_id","in":"path","required":true,"schema":{"type":"integer","title":"Pedido Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pedidos/{pedido_id}/progreso":{"patch":{"tags":["Pedidos"],"summary":"Marcar En Progreso","operationId":"marcar_en_progreso_api_pedidos__pedido_id__progreso_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"pedido_id","in":"path","required":true,"schema":{"type":"integer","title":"Pedido Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pedidos/{pedido_id}/finalizar":{"patch":{"tags":["Pedidos"],"summary":"Finalizar Pedido","operationId":"finalizar_pedido_api_pedidos__pedido_id__finalizar_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"pedido_id","in":"path","required":true,"schema":{"type":"integer","title":"Pedido Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/public/{slug}":{"get":{"tags":["Públicos"],"summary":"Get Negocio","operationId":"get_negocio_public__slug__get","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string","title":"Slug"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NegocioRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/public/{slug}/productos":{"get":{"tags":["Públicos"],"summary":"Listar Productos Por Slug","operationId":"listar_productos_por_slug_public__slug__productos_get","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string","title":"Slug"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Número de registros a saltar","default":0,"title":"Skip"},"description":"Número de registros a saltar"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Cantidad máxima de registros a retornar","default":100,"title":"Limit"},"description":"Cantidad máxima de registros a retornar"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductoRead"},"title":"Response Listar Productos Por Slug Public  Slug  Productos Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/public/{slug}/categorias":{"get":{"tags":["Públicos"],"summary":"Listar Categorias Por Slug","operationId":"listar_categorias_por_slug_public__slug__categorias_get","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string","title":"Slug"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Número de registros a saltar","default":0,"title":"Skip"},"description":"Número de registros a saltar"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Cantidad máxima de registros a retornar","default":100,"title":"Limit"},"description":"Cantidad máxima de registros a retornar"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CategoriaRead"},"title":"Response Listar Categorias Por Slug Public  Slug  Categorias Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/public/{slug}/pedidos":{"post":{"tags":["Públicos"],"summary":"Crear Pedido","operationId":"crear_pedido_public__slug__pedidos_post","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string","title":"Slug"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PedidoCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PedidoRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/public/{slug}/pedidos/{codigo}":{"get":{"tags":["Públicos"],"summary":"Ver Pedido","operationId":"ver_pedido_public__slug__pedidos__codigo__get","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string","title":"Slug"}},{"name":"codigo","in":"path","required":true,"schema":{"type":"string","title":"Codigo"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PedidoRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/public/{slug}/productos/{producto_id}/toppings":{"get":{"tags":["Públicos"],"summary":"Obtener Toppings Producto Publico","description":"Obtiene los grupos de toppings disponibles para un producto (API pública)","operationId":"obtener_toppings_producto_publico_public__slug__productos__producto_id__toppings_get","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string","title":"Slug"}},{"name":"producto_id","in":"path","required":true,"schema":{"type":"integer","title":"Producto Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/public/{slug}/validate-coupon":{"post":{"tags":["Públicos"],"summary":"Validar Cupon Endpoint","operationId":"validar_cupon_endpoint_public__slug__validate_coupon_post","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string","title":"Slug"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CouponValidationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/categorias/":{"post":{"tags":["Categorías"],"summary":"Crear Categoria","operationId":"crear_categoria_api_categorias__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoriaCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoriaRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Categorías"],"summary":"Listar Categorias","operationId":"listar_categorias_api_categorias__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Número de registros a saltar","default":0,"title":"Skip"},"description":"Número de registros a saltar"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Cantidad máxima de registros a retornar","default":100,"title":"Limit"},"description":"Cantidad máxima de registros a retornar"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CategoriaRead"},"title":"Response Listar Categorias Api Categorias  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/categorias/{categoria_id}":{"put":{"tags":["Categorías"],"summary":"Actualizar Categoria","operationId":"actualizar_categoria_api_categorias__categoria_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"categoria_id","in":"path","required":true,"schema":{"type":"integer","title":"Categoria Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoriaUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoriaRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Categorías"],"summary":"Eliminar Categoria","operationId":"eliminar_categoria_api_categorias__categoria_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"categoria_id","in":"path","required":true,"schema":{"type":"integer","title":"Categoria Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/suscripciones":{"post":{"tags":["Suscripciones"],"summary":"Crear Suscripcion","description":"DEPRECADO: Las suscripciones se crean desde el checkout de Mercado Pago.","operationId":"crear_suscripcion_api_suscripciones_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"deprecated":true,"security":[{"HTTPBearer":[]}]}},"/api/suscripcion":{"get":{"tags":["Suscripciones"],"summary":"Get Mi Suscripcion","description":"Obtiene la suscripción del usuario autenticado.","operationId":"get_mi_suscripcion_api_suscripcion_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/SubscriptionRead"},{"type":"null"}],"title":"Response Get Mi Suscripcion Api Suscripcion Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/suscripcion/checkout-url":{"get":{"tags":["Suscripciones"],"summary":"Get Checkout Url Endpoint","description":"Genera la URL de checkout de Mercado Pago con el external_reference del usuario.","operationId":"get_checkout_url_endpoint_api_suscripcion_checkout_url_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/suscripciones/cancelar":{"post":{"tags":["Suscripciones"],"summary":"Cancelar Suscripcion","description":"DEPRECADO: El usuario gestiona su suscripción directamente desde Mercado Pago.","operationId":"cancelar_suscripcion_api_suscripciones_cancelar_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"deprecated":true}},"/api/webhooks/mercadopago":{"post":{"tags":["Suscripciones"],"summary":"Webhook Mp","description":"Webhook para recibir notificaciones de Mercado Pago sobre suscripciones.","operationId":"webhook_mp_api_webhooks_mercadopago_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/grupos-topping/":{"get":{"tags":["Toppings"],"summary":"Listar Grupos","description":"Listar todos los grupos de toppings del negocio","operationId":"listar_grupos_api_grupos_topping__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/GrupoToppingRead"},"type":"array","title":"Response Listar Grupos Api Grupos Topping  Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["Toppings"],"summary":"Crear Grupo","description":"Crear un grupo de toppings con toppings iniciales opcionales","operationId":"crear_grupo_api_grupos_topping__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GrupoToppingCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GrupoToppingRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/grupos-topping/{grupo_id}":{"put":{"tags":["Toppings"],"summary":"Actualizar Grupo","description":"Actualizar el nombre de un grupo de toppings","operationId":"actualizar_grupo_api_grupos_topping__grupo_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"grupo_id","in":"path","required":true,"schema":{"type":"integer","title":"Grupo Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GrupoToppingUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GrupoToppingRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Toppings"],"summary":"Eliminar Grupo","description":"Desactivar un grupo de toppings (soft delete)","operationId":"eliminar_grupo_api_grupos_topping__grupo_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"grupo_id","in":"path","required":true,"schema":{"type":"integer","title":"Grupo Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/grupos-topping/{grupo_id}/toppings/":{"post":{"tags":["Toppings"],"summary":"Agregar Topping","description":"Agregar un topping a un grupo existente","operationId":"agregar_topping_api_grupos_topping__grupo_id__toppings__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"grupo_id","in":"path","required":true,"schema":{"type":"integer","title":"Grupo Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToppingCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToppingRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/grupos-topping/toppings/{topping_id}":{"put":{"tags":["Toppings"],"summary":"Actualizar Topping","description":"Actualizar un topping individual","operationId":"actualizar_topping_api_grupos_topping_toppings__topping_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"topping_id","in":"path","required":true,"schema":{"type":"integer","title":"Topping Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToppingUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToppingRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Toppings"],"summary":"Eliminar Topping","description":"Desactivar un topping (soft delete)","operationId":"eliminar_topping_api_grupos_topping_toppings__topping_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"topping_id","in":"path","required":true,"schema":{"type":"integer","title":"Topping Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stats/overview":{"get":{"tags":["Estadísticas"],"summary":"Get Stats Overview","description":"Retorna métricas clave del negocio para el dashboard.\n- Ventas Totales (Hoy)\n- Pedidos (Hoy)\n- Ticket Promedio (Histórico)\n- Tasa de Conversión (Simulada por ahora)","operationId":"get_stats_overview_api_stats_overview_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/stats/sales-chart":{"get":{"tags":["Estadísticas"],"summary":"Get Sales Chart","description":"Retorna datos de ventas agrupados por día para gráficos.","operationId":"get_sales_chart_api_stats_sales_chart_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":90,"minimum":1,"default":7,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stats/top-products":{"get":{"tags":["Estadísticas"],"summary":"Get Top Products","description":"Productos más vendidos (por cantidad).","operationId":"get_top_products_api_stats_top_products_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stats/clients":{"get":{"tags":["Estadísticas"],"summary":"Get Top Clients","description":"Ranking de clientes por total gastado.\nÚtil para distribuidoras que necesitan identificar sus mejores clientes.","operationId":"get_top_clients_api_stats_clients_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/promociones":{"get":{"tags":["Promociones"],"summary":"Get Promociones","description":"Listar todas las promociones del negocio actual","operationId":"get_promociones_api_promociones_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PromocionRead"},"type":"array","title":"Response Get Promociones Api Promociones Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["Promociones"],"summary":"Create Promocion","description":"Crear una nueva promoción","operationId":"create_promocion_api_promociones_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromocionCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromocionRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/promociones/{promocion_id}":{"patch":{"tags":["Promociones"],"summary":"Update Promocion","description":"Actualizar una promoción","operationId":"update_promocion_api_promociones__promocion_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"promocion_id","in":"path","required":true,"schema":{"type":"integer","title":"Promocion Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromocionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromocionRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Promociones"],"summary":"Delete Promocion","description":"Eliminar (soft delete o hard delete) una promoción","operationId":"delete_promocion_api_promociones__promocion_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"promocion_id","in":"path","required":true,"schema":{"type":"integer","title":"Promocion Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"CategoriaCreate":{"properties":{"nombre":{"type":"string","title":"Nombre"},"imagen_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Imagen Url"},"activo":{"type":"boolean","title":"Activo","default":true}},"type":"object","required":["nombre"],"title":"CategoriaCreate","example":{"activo":true,"imagen_url":"https://res.cloudinary.com/demo/image/upload/sample.jpg","nombre":"Bebidas"}},"CategoriaRead":{"properties":{"nombre":{"type":"string","title":"Nombre"},"imagen_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Imagen Url"},"activo":{"type":"boolean","title":"Activo","default":true},"id":{"type":"integer","title":"Id"}},"type":"object","required":["nombre","id"],"title":"CategoriaRead","example":{"activo":true,"imagen_url":"https://res.cloudinary.com/demo/image/upload/sample.jpg","nombre":"Bebidas"}},"CategoriaUpdate":{"properties":{"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre"},"imagen_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Imagen Url"},"activo":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Activo"}},"type":"object","title":"CategoriaUpdate","example":{"activo":true,"imagen_url":"https://res.cloudinary.com/demo/image/upload/sample.jpg","nombre":"Bebidas"}},"CouponValidationRequest":{"properties":{"codigo":{"type":"string","title":"Codigo"},"items":{"items":{"$ref":"#/components/schemas/PedidoItemCreate"},"type":"array","title":"Items"}},"type":"object","required":["codigo","items"],"title":"CouponValidationRequest"},"GrupoToppingCreate":{"properties":{"nombre":{"type":"string","title":"Nombre"},"toppings":{"items":{"$ref":"#/components/schemas/ToppingCreate"},"type":"array","title":"Toppings","default":[]}},"type":"object","required":["nombre"],"title":"GrupoToppingCreate"},"GrupoToppingRead":{"properties":{"id":{"type":"integer","title":"Id"},"nombre":{"type":"string","title":"Nombre"},"toppings":{"items":{"$ref":"#/components/schemas/ToppingRead"},"type":"array","title":"Toppings","default":[]}},"type":"object","required":["id","nombre"],"title":"GrupoToppingRead"},"GrupoToppingUpdate":{"properties":{"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre"},"toppings":{"anyOf":[{"items":{"$ref":"#/components/schemas/ToppingCreate"},"type":"array"},{"type":"null"}],"title":"Toppings"}},"type":"object","title":"GrupoToppingUpdate"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoginRequest":{"properties":{"email":{"type":"string","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"LoginRequest"},"NegocioCreate":{"properties":{"nombre":{"type":"string","maxLength":50,"minLength":1,"title":"Nombre"},"descripcion":{"anyOf":[{"type":"string","maxLength":240},{"type":"null"}],"title":"Descripcion"},"slug":{"type":"string","minLength":1,"title":"Slug"},"logo_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Logo Url"},"banner_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Banner Url"},"color_primario":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color Primario"},"color_secundario":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color Secundario"},"metodos_pago":{"items":{"type":"string"},"type":"array","title":"Metodos Pago","default":[]},"tipos_entrega":{"items":{"type":"string"},"type":"array","title":"Tipos Entrega","default":[]},"codigo_pais":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Codigo Pais"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telefono"},"direccion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Direccion"},"horario":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Horario"},"acepta_pedidos":{"type":"boolean","title":"Acepta Pedidos","default":true},"pedido_minimo":{"type":"integer","title":"Pedido Minimo","default":0},"tipo_negocio":{"$ref":"#/components/schemas/TipoNegocio","default":"minorista"}},"type":"object","required":["nombre","slug"],"title":"NegocioCreate","example":{"descripcion":"La mejor tienda de ropa","metodos_pago":["efectivo","transferencia"],"nombre":"Mi Tienda","slug":"mi-tienda","telefono":"12345678","tipos_entrega":["delivery","takeaway"]}},"NegocioRead":{"properties":{"nombre":{"type":"string","maxLength":50,"minLength":1,"title":"Nombre"},"descripcion":{"anyOf":[{"type":"string","maxLength":240},{"type":"null"}],"title":"Descripcion"},"slug":{"type":"string","minLength":1,"title":"Slug"},"logo_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Logo Url"},"banner_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Banner Url"},"color_primario":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color Primario"},"color_secundario":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color Secundario"},"metodos_pago":{"items":{"type":"string"},"type":"array","title":"Metodos Pago","default":[]},"tipos_entrega":{"items":{"type":"string"},"type":"array","title":"Tipos Entrega","default":[]},"codigo_pais":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Codigo Pais"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telefono"},"direccion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Direccion"},"horario":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Horario"},"acepta_pedidos":{"type":"boolean","title":"Acepta Pedidos","default":true},"pedido_minimo":{"type":"integer","title":"Pedido Minimo","default":0},"tipo_negocio":{"$ref":"#/components/schemas/TipoNegocio","default":"minorista"},"id":{"type":"integer","title":"Id"},"activo":{"type":"boolean","title":"Activo"}},"type":"object","required":["nombre","slug","id","activo"],"title":"NegocioRead","example":{"descripcion":"La mejor tienda de ropa","metodos_pago":["efectivo","transferencia"],"nombre":"Mi Tienda","slug":"mi-tienda","telefono":"12345678","tipos_entrega":["delivery","takeaway"]}},"NegocioUpdate":{"properties":{"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre"},"descripcion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Descripcion"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"logo_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Logo Url"},"color_primario":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color Primario"},"color_secundario":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color Secundario"},"metodos_pago":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Metodos Pago"},"tipos_entrega":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tipos Entrega"},"codigo_pais":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Codigo Pais"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telefono"},"direccion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Direccion"},"horario":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Horario"},"acepta_pedidos":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Acepta Pedidos"},"pedido_minimo":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Pedido Minimo"},"tipo_negocio":{"anyOf":[{"$ref":"#/components/schemas/TipoNegocio"},{"type":"null"}]},"banner_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Banner Url"}},"type":"object","title":"NegocioUpdate"},"PedidoCreate":{"properties":{"metodo_pago":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metodo Pago"},"tipo_entrega":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tipo Entrega"},"nombre_cliente":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre Cliente"},"telefono_cliente":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telefono Cliente"},"direccion_entrega":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Direccion Entrega"},"notas":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notas"},"codigo_cupon":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Codigo Cupon"},"items":{"items":{"$ref":"#/components/schemas/PedidoItemCreate"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"PedidoCreate"},"PedidoEstado":{"type":"string","enum":["pendiente","aceptado","rechazado","en_progreso","finalizado"],"title":"PedidoEstado"},"PedidoItemCreate":{"properties":{"producto_id":{"type":"integer","title":"Producto Id"},"cantidad":{"type":"integer","title":"Cantidad"},"nombre_producto":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre Producto"},"toppings":{"items":{"$ref":"#/components/schemas/ToppingSeleccionado"},"type":"array","title":"Toppings","default":[]}},"type":"object","required":["producto_id","cantidad"],"title":"PedidoItemCreate"},"PedidoItemRead":{"properties":{"id":{"type":"integer","title":"Id"},"producto_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Producto Id"},"nombre_producto":{"type":"string","title":"Nombre Producto"},"precio_unitario":{"type":"integer","title":"Precio Unitario"},"cantidad":{"type":"integer","title":"Cantidad"},"subtotal":{"type":"integer","title":"Subtotal"},"toppings_seleccionados":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Toppings Seleccionados","default":[]}},"type":"object","required":["id","producto_id","nombre_producto","precio_unitario","cantidad","subtotal"],"title":"PedidoItemRead"},"PedidoRead":{"properties":{"id":{"type":"integer","title":"Id"},"codigo":{"type":"string","title":"Codigo"},"estado":{"$ref":"#/components/schemas/PedidoEstado"},"total":{"type":"integer","title":"Total"},"metodo_pago":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metodo Pago"},"tipo_entrega":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tipo Entrega"},"nombre_cliente":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre Cliente"},"telefono_cliente":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telefono Cliente"},"direccion_entrega":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Direccion Entrega"},"notas":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notas"},"descuento_aplicado":{"type":"integer","title":"Descuento Aplicado","default":0},"items":{"items":{"$ref":"#/components/schemas/PedidoItemRead"},"type":"array","title":"Items"}},"type":"object","required":["id","codigo","estado","total","metodo_pago","tipo_entrega","nombre_cliente","telefono_cliente","items"],"title":"PedidoRead"},"ProductoCreate":{"properties":{"nombre":{"type":"string","title":"Nombre"},"descripcion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Descripcion"},"precio":{"type":"integer","exclusiveMinimum":0.0,"title":"Precio"},"unidad":{"type":"string","title":"Unidad","default":"unidad"},"precio_mayorista":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Precio Mayorista"},"cantidad_mayorista":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Cantidad Mayorista"},"cantidad_minima":{"type":"integer","title":"Cantidad Minima","default":1},"imagen_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Imagen Url"},"categoria":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Categoria"},"stock":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Stock","default":true},"destacado":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Destacado","default":false}},"type":"object","required":["nombre","precio"],"title":"ProductoCreate","example":{"categoria":"Comida rápida","descripcion":"Hamburguesa con doble carne, queso y bacon","nombre":"Hamburguesa Doble","precio":8500,"stock":true}},"ProductoGrupoToppingConfig":{"properties":{"grupo_id":{"type":"integer","title":"Grupo Id"},"min_selecciones":{"type":"integer","title":"Min Selecciones","default":0},"max_selecciones":{"type":"integer","title":"Max Selecciones","default":1}},"type":"object","required":["grupo_id"],"title":"ProductoGrupoToppingConfig"},"ProductoRead":{"properties":{"nombre":{"type":"string","title":"Nombre"},"descripcion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Descripcion"},"precio":{"type":"integer","exclusiveMinimum":0.0,"title":"Precio"},"unidad":{"type":"string","title":"Unidad","default":"unidad"},"precio_mayorista":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Precio Mayorista"},"cantidad_mayorista":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Cantidad Mayorista"},"cantidad_minima":{"type":"integer","title":"Cantidad Minima","default":1},"imagen_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Imagen Url"},"categoria":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Categoria"},"stock":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Stock","default":true},"destacado":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Destacado","default":false},"id":{"type":"integer","title":"Id"}},"type":"object","required":["nombre","precio","id"],"title":"ProductoRead","example":{"categoria":"Comida rápida","descripcion":"Hamburguesa con doble carne, queso y bacon","nombre":"Hamburguesa Doble","precio":8500,"stock":true}},"ProductoUpdate":{"properties":{"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre"},"descripcion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Descripcion"},"precio":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Precio"},"unidad":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Unidad"},"precio_mayorista":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Precio Mayorista"},"cantidad_mayorista":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Cantidad Mayorista"},"cantidad_minima":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Cantidad Minima"},"imagen_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Imagen Url"},"categoria":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Categoria"},"stock":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Stock"},"destacado":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Destacado"}},"type":"object","title":"ProductoUpdate"},"PromocionCreate":{"properties":{"nombre":{"type":"string","title":"Nombre"},"codigo":{"type":"string","title":"Codigo"},"descripcion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Descripcion"},"tipo":{"$ref":"#/components/schemas/PromocionTipo"},"valor":{"type":"number","title":"Valor"},"reglas":{"additionalProperties":true,"type":"object","title":"Reglas","default":{}},"fecha_inicio":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Inicio"},"fecha_fin":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Fin"},"activo":{"type":"boolean","title":"Activo","default":true},"limite_usos_total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limite Usos Total"},"limite_usos_por_usuario":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limite Usos Por Usuario","default":1}},"type":"object","required":["nombre","codigo","tipo","valor"],"title":"PromocionCreate"},"PromocionRead":{"properties":{"nombre":{"type":"string","title":"Nombre"},"codigo":{"type":"string","title":"Codigo"},"descripcion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Descripcion"},"tipo":{"$ref":"#/components/schemas/PromocionTipo"},"valor":{"type":"number","title":"Valor"},"reglas":{"additionalProperties":true,"type":"object","title":"Reglas","default":{}},"fecha_inicio":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Inicio"},"fecha_fin":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Fin"},"activo":{"type":"boolean","title":"Activo","default":true},"limite_usos_total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limite Usos Total"},"limite_usos_por_usuario":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limite Usos Por Usuario","default":1},"id":{"type":"integer","title":"Id"},"negocio_id":{"type":"integer","title":"Negocio Id"},"usos_actuales":{"type":"integer","title":"Usos Actuales"},"creado_en":{"type":"string","format":"date-time","title":"Creado En"}},"type":"object","required":["nombre","codigo","tipo","valor","id","negocio_id","usos_actuales","creado_en"],"title":"PromocionRead"},"PromocionTipo":{"type":"string","enum":["porcentaje","monto_fijo","2x1","envio_gratis"],"title":"PromocionTipo"},"PromocionUpdate":{"properties":{"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre"},"codigo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Codigo"},"descripcion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Descripcion"},"tipo":{"anyOf":[{"$ref":"#/components/schemas/PromocionTipo"},{"type":"null"}]},"valor":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Valor"},"reglas":{"additionalProperties":true,"type":"object","title":"Reglas","default":{}},"fecha_inicio":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Inicio"},"fecha_fin":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Fin"},"activo":{"type":"boolean","title":"Activo","default":true},"limite_usos_total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limite Usos Total"},"limite_usos_por_usuario":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limite Usos Por Usuario","default":1}},"type":"object","title":"PromocionUpdate"},"SubscriptionRead":{"properties":{"id":{"type":"integer","title":"Id"},"status":{"type":"string","title":"Status"},"start_date":{"type":"string","format":"date-time","title":"Start Date"},"next_payment_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Next Payment Date"},"end_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Date"},"amount":{"type":"number","title":"Amount"},"currency":{"type":"string","title":"Currency"},"frequency":{"type":"integer","title":"Frequency"},"frequency_type":{"type":"string","title":"Frequency Type"},"mp_subscription_id":{"type":"string","title":"Mp Subscription Id"},"mp_plan_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mp Plan Id"}},"type":"object","required":["id","status","start_date","next_payment_date","end_date","amount","currency","frequency","frequency_type","mp_subscription_id","mp_plan_id"],"title":"SubscriptionRead"},"TipoNegocio":{"type":"string","enum":["minorista","distribuidora"],"title":"TipoNegocio"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token"],"title":"Token"},"ToppingCreate":{"properties":{"nombre":{"type":"string","title":"Nombre"},"precio_extra":{"type":"integer","title":"Precio Extra","default":0},"disponible":{"type":"boolean","title":"Disponible","default":true}},"type":"object","required":["nombre"],"title":"ToppingCreate"},"ToppingRead":{"properties":{"id":{"type":"integer","title":"Id"},"nombre":{"type":"string","title":"Nombre"},"precio_extra":{"type":"integer","title":"Precio Extra"}},"type":"object","required":["id","nombre","precio_extra"],"title":"ToppingRead"},"ToppingSeleccionado":{"properties":{"topping_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Topping Id"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre"},"precio":{"type":"integer","title":"Precio","default":0}},"type":"object","title":"ToppingSeleccionado"},"ToppingUpdate":{"properties":{"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre"},"precio_extra":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Precio Extra"},"disponible":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Disponible"}},"type":"object","title":"ToppingUpdate"},"UsuarioCreate":{"properties":{"nombre":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Nombre"},"email":{"type":"string","pattern":"^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$","title":"Email"},"password":{"type":"string","minLength":8,"title":"Password"}},"type":"object","required":["email","password"],"title":"UsuarioCreate"},"UsuarioRead":{"properties":{"id":{"type":"integer","title":"Id"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre"},"email":{"type":"string","title":"Email"},"activo":{"type":"boolean","title":"Activo"},"es_premium":{"type":"boolean","title":"Es Premium"},"tiene_negocio":{"type":"boolean","title":"Tiene Negocio"}},"type":"object","required":["id","nombre","email","activo","es_premium","tiene_negocio"],"title":"UsuarioRead"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"},"input":{"title":"Input"},"ctx":{"type":"object","title":"Context"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}